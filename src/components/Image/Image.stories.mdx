import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { Box } from '../Box';
import { Text } from '../Text';
import { Image } from './Image';

<Meta title="Components/Image" component={Image} />

# Image

Renders a responsive image that is rendered with `picture`, `source`, and `img` tags.

## Import

```jsx
import { Image } from '@theresamclaird/atomic';
```

## Required Props

<Box as="ul">
  <Text as="li">alt: Alt text associated with the image.</Text>
  <Text as="li">src: Image source, or, when the optional sources prop is supplied, src is the fallback image.</Text>
</Box>

## Usage

```jsx
<Image
  alt="Llama Cria"
  src="https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-900x556.webp"
/>
```

<Canvas>
  <Story name="Simple Image">
    <Image
      alt="Llama Cria"
      src="https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-900x556.webp"
    />
  </Story>
</Canvas>

## Responsive Image

Supply a `sources` prop consisting of an array of objects indicating image types and sizes. When `sources` is provided, the `src` prop is still required and will be used as a fallback.

Each source object in the `sources` array can have `media` (optional) and `srcset` properties:

```json
{
  "media": "(max-width: 900px)",
  "srcset": "https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-900x556.webp"
}
```



```jsx
<Image
  alt="Llama Cria"
  src="https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-300x185.webp"
  sources={[
    { srcset: 'https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-300x185.webp 300w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-600x371.webp 600w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-900x556.webp 900w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-1200x742.webp 1200w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-2400x1483.webp 2400w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-3600x2225.webp 3600w' },
    { srcset: 'https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-300x185.jpg 300w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-600x371.jpg 600w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-900x556.jpg 900w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-1200x742.jpg 1200w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-2400x1483.jpg 2400w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-3600x2225.jpg 3600w' },
  ]}
/>
```

<Canvas>
  <Story name="Responsive Image">
    <Image
      alt="Llama Cria"
      src="https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-300x185.webp"
      sources={[
        { srcset: 'https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-300x185.webp 300w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-600x371.webp 600w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-900x556.webp 900w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-1200x742.webp 1200w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-2400x1483.webp 2400w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-3600x2225.webp 3600w' },
        { srcset: 'https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-300x185.jpg 300w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-600x371.jpg 600w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-900x556.jpg 900w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-1200x742.jpg 1200w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-2400x1483.jpg 2400w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-3600x2225.jpg 3600w' },
      ]}
    />
  </Story>
</Canvas>

## Aspect Ratio

To prevent content shift after the image loads, an optional `aspectRatio` prop will wrap the image in a container taking up 100% of the available width and vertical space according to the supplied `aspectRatio`.

A level of art direction can be achieved with the `sx` prop, for example declaring `object-fit` and `object-position` on the image.

<Canvas>
  <Story name="Aspect Ratio">
    <Image
      aspectRatio={1}
      alt="Llama Cria"
      src="https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-300x185.webp"
      sources={[
        { srcset: 'https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-300x185.webp 300w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-600x371.webp 600w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-900x556.webp 900w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-1200x742.webp 1200w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-2400x1483.webp 2400w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-3600x2225.webp 3600w' },
        { srcset: 'https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-300x185.jpg 300w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-600x371.jpg 600w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-900x556.jpg 900w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-1200x742.jpg 1200w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-2400x1483.jpg 2400w, https://mclairdfamily-images.s3.us-west-2.amazonaws.com/demo-3600x2225.jpg 3600w' },
      ]}
      sx={{ objectFit: 'cover', objectPosition: 'left' }}
    />
  </Story>
</Canvas>
